<html>
    <style>
        body {
            font-size: 20px;
            font-family: arial;
        }
        .questions {
            width: 100%;
        }
        .number-part {
            display: block;
            padding-left: 8px;
            padding-right: 8px;
        }
        .operator {
            display: block;
        }
        .answer {
            display: block;
            margin-left: 8px;
            width: 60px;
            border-bottom: solid 2px #323232;
            margin-right: 20px;
        }

        .answers {
            -webkit-transform: rotate(180deg);
            transform: rotate(180deg);
            margin-top: 60px;
        }
        .question-cell {
            padding-top: 60px;
        }
        .question-cell > div {
            display: flex;
        }
        .answer-cell {
            padding-right: 12px;
            font-size: 8px;
        }
    </style>
    <body>
        <table class="questions">
            <tbody id="root"/>
        </table>
        <table class="answers">
            <tbody id="root-answers"/>
        </table>

        <table class="questions" style="margin-top: 80px">
            <tbody id="root-2"/>
        </table>
        <table class="answers">
            <tbody id="root-answers-2"/>
        </table>
    </body>
</html>

<script>
var COLUMNS = 5;
var ROWS = 6;
var NUM_QUESTIONS = COLUMNS * ROWS;

function getParameterByName (name) {
    var url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    if (results[2] === 'false') return false;
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}

function generateQuestions () {
    var questionCache = {};
    var rtn = [];
    while (rtn.length < NUM_QUESTIONS) {
        rtn.push(generateQuestion(questionCache));
    }
    return rtn;
}

function generateQuestion (questionCache) {
    var num1;
    var num2;
    while (!num1 || questionCache[num1 + '*' + num2]) {
        num1 = genInt();
        num2 = genInt();
    }
    questionCache[num1 + '*' + num2] = true;
    questionCache[num2 + '*' + num1] = true;
    return {
        left: num1,
        right: num2
    };
}

function genInt () {
    var num;
    while (!num || num === 1 || num >= 10) {
        num = Math.floor(Math.random() * 10);
    }
    return num;
}

function createCell (question) {
    var td = document.createElement('td');
    td.className = 'question-cell';
    var container = document.createElement('div');
    td.appendChild(container);
    container.innerHTML = formatQuestion(question);
    return td;
}

function formatQuestion (question) {
    return '<span class="number-part">' +
        question.left +
        '</span><span class="operator">x</span><span class="number-part">' +
        question.right +
        '</span>' +
        '<span class="equals">=</span>' +
        '<span class="answer"></span>';
}

function appendQuestions (tbody, questions) {
    var currentI = 1;
    var currentTR;
    for (var i = 0; i < questions.length; i++) {
        if (!currentTR || currentI++ >= ROWS) {
            currentI = 1;
            currentTR = document.createElement('tr');
            tbody.appendChild(currentTR);
        }
        currentTR.appendChild(createCell(questions[i]));
    }
}

function appendAnswers (tbody, questions) {
    if (getParameterByName('answers')) {
        var currentI = 1;
        var currentTR;
        for (var i = 0; i < questions.length; i++) {
            if (!currentTR || currentI++ >= ROWS) {
                currentI = 1;
                currentTR = document.createElement('tr');
                tbody.appendChild(currentTR);
            }
            var td = document.createElement('td');
            td.className = 'answer-cell';
            td.innerText = questions[i].left * questions[i].right;
            currentTR.appendChild(td);
        }
    }
}

var questions = generateQuestions();
var tbody = document.getElementById('root');
appendQuestions(tbody, questions);
var answers = document.getElementById('root-answers');
appendAnswers(answers, questions);

questions = generateQuestions();
tbody = document.getElementById('root-2');
appendQuestions(tbody, questions);
answers = document.getElementById('root-answers-2');
appendAnswers(answers, questions);
</script>
